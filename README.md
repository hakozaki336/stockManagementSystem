# 在庫管理システム
- 商品の在庫を管理するアプリケーション
- nextjs + laravelAPIを使って作成する
- nextjsには`https://github.com/laravel/breeze-next.git`を使用
    - `breeze-next.git`: laravelのbreezeをそのまま使うことができるライブラリ
- フロントエンドのスタイルにはテールウィンド cssを使用する

# DB
DBの構成情報を記述する。
laravelにおいて、デフォルトで作成される値(idやcreate_atなど)は記載しない。
- 商品(Products)
    - 名前
    - 価格
    - 個数
- 会社(Companies)
    - 名前
- 注文(Orders)
    - 商品id
    - 企業id
    - 注文数
    - 出荷フラグ
 # 環境構築方法
 - `php artisan db:seed`を実行
# フォルダ構成

# 画面イメージ
![IMG_4527](https://github.com/user-attachments/assets/a8f676c7-4611-43b8-84a3-d809da9886dc)

# 機能改修や機能作成起案の流れ
- issueに目的や機能の概要、要件を記入する
- 起案者は自身のreviewerラベルを選択する
- ※任意だが、`バックエンド`か`フロントエンド`かのラベルはつけてほしい
- ※実装者からレビュー依頼が来たら問題なく実装できているか確認し、問題なければアプルーブする

# issue実装の流れ
- issueのasigneeに実装者を選択する
- 実装者とissue番号に対応するブランチを作成する
    - 例) ・実装者: ラッコ　 ・issue番号: 2　の場合
    - `rakko/2`
- pushしたらPRにissueのリンクを貼り付ける
- 実装が完了したら起案者にレビューを依頼する
- アプルーブが完了したら、mainへマージする

# メモ
## コーディング規約と命名のガイドライン
### with
- 関連モデルを取得は標準の挙動とするためメソッド名に`with`を明記しない。
  - 例 :`Order`モデルを取得する時に、`Product`、`Company`も`with`で一緒に取得する。
  - メソッド命名の例:
    - O: `getProducts`
    - X: `getProductsWithRelations`

# ユースケース図
![在庫管理システム(ぴゅう太)ユースケース図](https://github.com/user-attachments/assets/34fb28dd-cb82-4903-addf-495b425142dc)

# ユースケース記述

# 会社を管理する
- 概要: 取引契約が締結された顧客(会社)名を管理する
- アクター: システム管理者・営業社員
- 備考: 基本的にはシステム管理者が操作を行うが、営業社員が情報提供や入力支援を行う場合がある。

## 会社を一覧表示する
- 概要: 顧客(会社)名を一覧表示する
- アクター: システム管理者・営業社員
- 事前条件: システムにログインしていること
- トリガー: システム利用者が「会社一覧」画面を開く
- 備考: 営業社員は閲覧のみ可能。

## 会社を登録する
- 概要: 顧客(会社)名を登録する
- アクター: システム管理者・営業社員
- 事前条件: システムにログインしていること
- トリガー: 新規契約が締結され、登録が必要となる
- 備考: なし
## 会社を編集する
- 概要: 顧客(会社)名を編集する
- アクター: システム管理者・営業社員
- 事前条件: システムにログインしていること
- トリガー: 顧客情報の変更依頼が発生する
- 備考: なし

## 会社を削除する
- 概要: 顧客(会社)名を削除する
- アクター: システム管理者
- 事前条件: システムにログインしていること
- トリガー: 顧客情報の削除依頼が発生する
- 備考: 削除時はシステム管理者のみ実行可能であり、削除後の復元は不可。


# 商品を管理する
- 概要: 仕入れ業者から仕入れた商品の情報を管理する
- アクター: 在庫管理係・システム管理者
- 備考: 基本的には在庫管理係が操作を行うが、必要に応じてシステム管理者も補助や代理操作を行う。


## 商品を一覧表示する
- 概要: 登録済みの商品情報を一覧表示する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 「商品一覧」画面を開く
- 備考: なし

## 商品を登録する
- 概要: 新たに仕入れた商品の情報を登録する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 新商品が仕入れられ、登録が必要となる
- 備考: なし
## 商品を編集する
- 概要: 登録済みの商品情報を修正する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 商品情報の変更が必要となる
- 備考: なし

## 商品を削除する
- 概要: 不要になった商品情報を削除する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 商品が廃止または登録ミスが発覚する
- 備考: 商品在庫が存在する場合、商品を削除することはできない。

# 商品在庫を管理する
- 概要: 商品に紐づく在庫情報を管理する
- アクター: 在庫管理係・システム管理者
- 備考:  基本的には在庫管理係が登録を行うが、システム管理者が補助や代理操作を行う場合もある。

## 商品在庫一覧を表示する
- 概要: 商品に紐づく在庫情報を一覧表示する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 「在庫一覧」画面を開く
- 備考: なし

## 商品在庫を登録する
- 概要: 新たな商品在庫情報を登録する
- アクター: 在庫管理係・システム管理者
- 事前条件: 商品情報が登録済みであること
- トリガー: 商品の仕入れが発生し、在庫情報が必要となる
- 備考: なし

## 商品在庫を編集する
- 概要: 商品在庫情報を修正する
- アクター: 在庫管理係・システム管理者
- 事前条件: 商品情報が登録済みであること
- トリガー: 在庫数量の修正や情報更新が必要となる
- 備考: なし

## 商品在庫を削除する
- 概要: 不要になった商品在庫情報を削除する
- アクター: 在庫管理係・システム管理者
- 事前条件: 商品情報が登録済みであること
- トリガー: 商品の廃止や誤登録が発覚する
- 備考: 注文が存在する場合、商品在庫を削除することはできない。


# 注文を管理する
- 概要: 顧客からの注文情報を管理する
- アクター: 営業社員・システム管理者
- 備考: 営業社員が主に利用するが、システム管理者も代理する場合もある。


## 注文一覧を表示する
- 概要: 注文情報を一覧表示する
- アクター: 営業社員・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 営業社員が最新の受注状況を確認するために『注文一覧』画面を開く
- 備考: 注文されたときに割り当てられた商品の在庫は詳細画面に遷移しないと確認できない。

## 注文を登録する
- 概要: 顧客からの新しい注文情報を登録する
- アクター: 営業社員・システム管理者
- 事前条件: 会社情報・商品・在庫が登録済みであること
- トリガー: 顧客から新規注文を受け付ける
- 備考: なし

## 注文を削除する
- 概要: 不要になった注文情報を削除する
- アクター: 営業社員・システム管理者
- 事前条件: 該当する注文情報が登録済みであること
- トリガー: 顧客から注文取消しの依頼がある、または誤登録が発覚する
- 備考: なし


# 出荷管理する
- 概要: 注文された商品を出荷する
- アクター: 在庫管理係・システム管理者
- 備考: 在庫管理係が主に利用するが、システム管理者が代理で行う場合もある。

## 出荷対象の商品在庫を表示する
- 概要: 注文に紐づく商品在庫を一覧表示する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 「注文一覧」から「詳細」画面を開く
- 備考: 閲覧のみで編集はできない

## 商品在庫を出荷する
- 概要: 注文された商品を出荷する
- アクター: 在庫管理係・システム管理者
- 事前条件: システムにログインしていること
- トリガー: 顧客から出荷依頼があったとき
- 備考: 配達業者に注文商品を引き渡す。事前に「注文された商品在庫を表示する」を実行して内容を確認する必要がある。
